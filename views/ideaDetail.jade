extends layout
block header
  link(rel='stylesheet', href='/stylesheets/ideaDetail.css')

block editPicture
  if (isOwner)
    div.caption
      button.btn.btn-default(type="button" name="removeImage"
                         onClick="removeImage(#{idea.id}, #{n})") Remove

block content
  script(src='/javascripts/ideaDetail.js').
  div.container
    div.row
      div.col-md-3
        block voting
      div.col-md-9
        div.panel.panel-default
          div.panel-heading 
            h1.panel-title #{idea.name}
          div.panel-body
            h4.bold Submitted by: #{idea.ownername}
            h4 <span style="font-weight: bold">Category:</span> #{idea.category]
            h4.bold Screenshots:
            div.row
              - var n = 0
              div.col-sm-4.col-md-4.col-lg-4
                div.thumbnail
                  img(src="/idea/thumbs/" + idea.id)
                  block editPicture
              if (screenshotIds.length > 0)
                each imageId in screenshotIds
                  - n++
                  if (n % 3 == 0)
                    div.row
                  div.col-sm-4.col-md-4.col-lg-4
                    div.thumbnail
                      a(href="/idea/" + idea.id + "/screens/" + imageId + ".jpg")
                        img(src="/idea/" + idea.id + "/screenthumbs/" + imageId + ".jpg")
                      block editPicture
            if (isOwner)
              form.form-horizontal(action='/idea/' + idea.id + '/screens' method='post' enctype='multipart/form-data')
                div.form-group
                  div.col-sm-10
                    input(type='file' name='screenshot' accept='image/*' required)
                div.form-group
                  div.col-sm-10
                    button.btn.btn-primary(type='submit') Add screenshot
            h4.bold Description
            p #{idea.description}
        block ideaDeveloper
        block comments
